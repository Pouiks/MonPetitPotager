{"ast":null,"code":"import _regeneratorRuntime from\"/home/virgile/mpp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/virgile/mpp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/virgile/mpp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/home/virgile/mpp/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState,useEffect}from'react';import Box from'@mui/material/Box';import Tab from'@mui/material/Tab';import TabContext from'@mui/lab/TabContext';import TabList from'@mui/lab/TabList';import TabPanel from'@mui/lab/TabPanel';import AdminTableUsers from'../Components/Admin/AdminTableUsers';import AdminTablePlantation from'../Components/Admin/AdminTablePlantation';import styled from'styled-components';import axios from'axios';import URL from'../Config/baseUrl';import Styles from'../Config/theme/styles';import H1 from'../Components/H1';import colors from'../Config/theme/colors';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    padding: \",\";\\n\"])),Styles.padding.xl);var AdminPage=function AdminPage(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _useState3=useState('1'),_useState4=_slicedToArray(_useState3,2),value=_useState4[0],setValue=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),update=_useState6[0],setUpdate=_useState6[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(URL,\"/categories\")).then(function(res){return setCategories(res.data);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function getData(){return _ref.apply(this,arguments);};}();var handleChange=function handleChange(event,newValue){setValue(newValue);};useEffect(function(){getData();},[update]);// Check if the events state updated\nuseEffect(function(){},[categories]);return/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsx(H1,{content:\"Back-Office\"}),/*#__PURE__*/_jsx(Box,{sx:{width:'90%',mx:'auto'},children:/*#__PURE__*/_jsxs(TabContext,{value:value,children:[/*#__PURE__*/_jsx(Box,{sx:{borderBottom:3,borderColor:\"\".concat(colors.primary),mb:2,pb:2},children:/*#__PURE__*/_jsxs(TabList,{onChange:handleChange,\"aria-label\":\"Interface administrateur\",children:[/*#__PURE__*/_jsx(Tab,{label:\"Utilisateurs\",value:\"1\",sx:{color:'black'}}),/*#__PURE__*/_jsx(Tab,{label:\"Fruits/L\\xE9gumes\",value:\"2\",sx:{color:'black'}})]})}),/*#__PURE__*/_jsx(TabPanel,{value:\"1\",children:/*#__PURE__*/_jsx(AdminTableUsers,{setUpdate:setUpdate,update:update})}),/*#__PURE__*/_jsx(TabPanel,{value:\"2\",children:/*#__PURE__*/_jsx(AdminTablePlantation,{categories:categories,setUpdate:setUpdate,update:update})})]})})]});};export default AdminPage;","map":{"version":3,"names":["React","useState","useEffect","Box","Tab","TabContext","TabList","TabPanel","AdminTableUsers","AdminTablePlantation","styled","axios","URL","Styles","H1","colors","Content","div","padding","xl","AdminPage","categories","setCategories","value","setValue","update","setUpdate","getData","get","then","res","data","console","error","handleChange","event","newValue","width","mx","borderBottom","borderColor","primary","mb","pb","color"],"sources":["/home/virgile/mpp/src/Pages/AdminPage.jsx"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport Box from '@mui/material/Box';\nimport Tab from '@mui/material/Tab';\nimport TabContext from '@mui/lab/TabContext';\nimport TabList from '@mui/lab/TabList';\nimport TabPanel from '@mui/lab/TabPanel';\nimport AdminTableUsers from '../Components/Admin/AdminTableUsers'\nimport AdminTablePlantation from '../Components/Admin/AdminTablePlantation'\nimport styled from 'styled-components'\nimport axios from 'axios'\nimport URL from '../Config/baseUrl'\nimport Styles from '../Config/theme/styles';\nimport H1 from '../Components/H1';\nimport colors from '../Config/theme/colors';\n\nconst Content = styled.div`\n    padding: ${Styles.padding.xl};\n`\n\nconst AdminPage = () => {\n    const [categories, setCategories] = useState();\n    const [value, setValue] = useState('1');\n    const [update, setUpdate] = useState(false);\n\n    const getData = async () => {\n        try {\n            await axios.get(`${URL}/categories`)\n            .then((res) => setCategories(res.data))\n        } catch(error){\n            console.error(error);\n        }\n    }\n\n    const handleChange = (event, newValue) => {\n      setValue(newValue);\n    };\n\n    useEffect(() => {\n        getData();\n    }, [update]);\n    \n    // Check if the events state updated\n    useEffect(() => {\n\n    }, [categories]);  \n\n    return (\n        <Content>\n          <H1 content=\"Back-Office\" />\n          <Box sx={{ width: '90%', mx: 'auto'  }}>\n            <TabContext value={value}>\n              <Box sx={{ borderBottom: 3, borderColor: `${colors.primary}`, mb:2, pb: 2 }}>\n                <TabList onChange={handleChange} aria-label=\"Interface administrateur\" >\n                  <Tab label=\"Utilisateurs\" value=\"1\" sx={{color:'black'}} />\n                  <Tab label=\"Fruits/LÃ©gumes\" value=\"2\" sx={{color:'black'}}/>\n                </TabList>\n              </Box>\n              <TabPanel value=\"1\"><AdminTableUsers setUpdate={setUpdate} update={update}/></TabPanel>\n              <TabPanel value=\"2\"><AdminTablePlantation categories={categories} setUpdate={setUpdate} update={update}/></TabPanel>\n            </TabContext>\n          </Box>\n        </Content >\n      );\n\n    }\n\nexport default AdminPage;"],"mappings":"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"},"metadata":{},"sourceType":"module"}