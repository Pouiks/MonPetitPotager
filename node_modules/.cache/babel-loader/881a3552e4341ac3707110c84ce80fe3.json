{"ast":null,"code":"import _slicedToArray from\"/home/virgile/mpp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from'react';import'./App.css';import{Routes,Route}from'react-router-dom';import Home from'../../Pages/Home';import Profil from'../../Pages/Profil';import SignUp from'../../Pages/SignUpPage';import SignIn from'../../Pages/SignInPage';import Calendar from'../../Pages/Calendar';import PlantDetail from'../../Pages/PlantDetail';import Garden from'../../Pages/Garden';import CGU from'../../Pages/CGU';import Politics from'../../Pages/Politics';import Legals from'../../Pages/Legals';import NotFound from'../../Pages/NotFound';import Unauthorized from'../../Pages/Unauthorized';import Navbar from'../Navbar';import Footer from'../Footer';import{authContext}from'../../Components/Contexts';import ProtectedRoute from'../../Components/ProtectedRoute';import GoTopButton from'../../Components/GoToTopButton';import AdminPage from'../../Pages/AdminPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(props){// eslint-disable-next-line no-unused-vars\nvar _useContext=useContext(authContext),auth=_useContext.auth,setAuth=_useContext.setAuth;//const [user, setUser] = useState(null)\nvar _useState=useState(''),_useState2=_slicedToArray(_useState,2),userRole=_useState2[0],setUserRole=_useState2[1];var role=localStorage.getItem('role');useEffect(function(){auth.user?setUserRole(auth.user.role):setUserRole('');},[auth,userRole]);return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mon-profil\",element:/*#__PURE__*/_jsx(Profil,{})}),/*#__PURE__*/_jsx(Route,{path:\"/connexion\",element:/*#__PURE__*/_jsx(SignIn,{})}),/*#__PURE__*/_jsx(Route,{path:\"/creer-mon-compte\",element:/*#__PURE__*/_jsx(SignUp,{})}),/*#__PURE__*/_jsx(Route,{path:\"/calendrier\",element:/*#__PURE__*/_jsx(Calendar,{})}),/*#__PURE__*/_jsx(Route,{path:\"/calendrier/:id\",element:/*#__PURE__*/_jsx(PlantDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cgu\",element:/*#__PURE__*/_jsx(CGU,{})}),/*#__PURE__*/_jsx(Route,{path:\"/politique-confidentialite\",element:/*#__PURE__*/_jsx(Politics,{})}),/*#__PURE__*/_jsx(Route,{path:\"/mentions-legales\",element:/*#__PURE__*/_jsx(Legals,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/mon-potager\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"user\",children:/*#__PURE__*/_jsx(Garden,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/back-office\",element:/*#__PURE__*/_jsx(ProtectedRoute,{role:\"admin\",children:/*#__PURE__*/_jsx(AdminPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(NotFound,{})}),/*#__PURE__*/_jsx(Route,{path:\"/403\",element:/*#__PURE__*/_jsx(Unauthorized,{})})]}),/*#__PURE__*/_jsx(GoTopButton,{}),/*#__PURE__*/_jsx(Footer,{})]});}export default App;","map":{"version":3,"names":["React","useContext","useState","useEffect","Routes","Route","Home","Profil","SignUp","SignIn","Calendar","PlantDetail","Garden","CGU","Politics","Legals","NotFound","Unauthorized","Navbar","Footer","authContext","ProtectedRoute","GoTopButton","AdminPage","App","props","auth","setAuth","userRole","setUserRole","role","localStorage","getItem","user"],"sources":["/home/virgile/mpp/src/Components/App/App.js"],"sourcesContent":["import React, {useContext, useState, useEffect} from 'react';\nimport './App.css';\nimport {Routes, Route} from 'react-router-dom';\nimport Home from '../../Pages/Home'\nimport Profil from '../../Pages/Profil'\nimport SignUp from '../../Pages/SignUpPage'\nimport SignIn from '../../Pages/SignInPage'\nimport Calendar from '../../Pages/Calendar'\nimport PlantDetail from '../../Pages/PlantDetail'\nimport Garden from '../../Pages/Garden'\nimport CGU from '../../Pages/CGU'\nimport Politics from '../../Pages/Politics'\nimport Legals from '../../Pages/Legals'\nimport NotFound from '../../Pages/NotFound'\nimport Unauthorized from '../../Pages/Unauthorized'\nimport Navbar from '../Navbar'\nimport Footer from '../Footer'\nimport {authContext} from '../../Components/Contexts'\nimport ProtectedRoute from '../../Components/ProtectedRoute'\nimport GoTopButton from '../../Components/GoToTopButton'\nimport AdminPage from '../../Pages/AdminPage'\n\nfunction App(props) {\n  // eslint-disable-next-line no-unused-vars\n  const { auth, setAuth } = useContext(authContext);\n  //const [user, setUser] = useState(null)\n  const [userRole, setUserRole]= useState('');\n  const role = localStorage.getItem('role');\n  useEffect(() => {\n    auth.user ? setUserRole(auth.user.role) : setUserRole('')\n  }, [auth, userRole])\n\n  return (\n\n    <div className=\"App\">\n      \n        <Navbar />\n        <Routes>\n            <Route path='/' element={<Home />}/>\n            <Route path='/mon-profil' element={<Profil />}/>\n            <Route path='/connexion' element={<SignIn />}/>\n            <Route path='/creer-mon-compte' element={<SignUp />}/>\n            <Route path='/calendrier' element={<Calendar />}/>\n            <Route path='/calendrier/:id' element={<PlantDetail />}/>\n            <Route path='/cgu' element={<CGU />}/>\n            <Route path='/politique-confidentialite' element={<Politics />}/>\n            <Route path='/mentions-legales' element={<Legals />}/>\n\n            <Route exact path='/mon-potager' element={\n                <ProtectedRoute role='user'>\n                  <Garden />\n                </ProtectedRoute>}\n            /> \n\n            <Route path='/back-office' element={\n              <ProtectedRoute role='admin'>\n                <AdminPage />\n              </ProtectedRoute>}\n            />\n\n            <Route path='*' element={<NotFound />}/>\n            <Route path='/403' element={<Unauthorized/>}/>\n            {/* <Route path='/calendrier/*' element={<NotFound />}/> */}\n        </Routes>\n        <GoTopButton />\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"uGAAA,MAAOA,MAAK,EAAGC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAO,OAAO,CAC5D,MAAO,WAAW,CAClB,OAAQC,MAAM,CAAEC,KAAK,KAAO,kBAAkB,CAC9C,MAAOC,KAAI,KAAM,kBAAkB,CACnC,MAAOC,OAAM,KAAM,oBAAoB,CACvC,MAAOC,OAAM,KAAM,wBAAwB,CAC3C,MAAOC,OAAM,KAAM,wBAAwB,CAC3C,MAAOC,SAAQ,KAAM,sBAAsB,CAC3C,MAAOC,YAAW,KAAM,yBAAyB,CACjD,MAAOC,OAAM,KAAM,oBAAoB,CACvC,MAAOC,IAAG,KAAM,iBAAiB,CACjC,MAAOC,SAAQ,KAAM,sBAAsB,CAC3C,MAAOC,OAAM,KAAM,oBAAoB,CACvC,MAAOC,SAAQ,KAAM,sBAAsB,CAC3C,MAAOC,aAAY,KAAM,0BAA0B,CACnD,MAAOC,OAAM,KAAM,WAAW,CAC9B,MAAOC,OAAM,KAAM,WAAW,CAC9B,OAAQC,WAAW,KAAO,2BAA2B,CACrD,MAAOC,eAAc,KAAM,iCAAiC,CAC5D,MAAOC,YAAW,KAAM,gCAAgC,CACxD,MAAOC,UAAS,KAAM,uBAAuB,yFAE7C,QAASC,IAAG,CAACC,KAAK,CAAE,CAClB;AACA,gBAA0BxB,UAAU,CAACmB,WAAW,CAAC,CAAzCM,IAAI,aAAJA,IAAI,CAAEC,OAAO,aAAPA,OAAO,CACrB;AACA,cAA+BzB,QAAQ,CAAC,EAAE,CAAC,wCAApC0B,QAAQ,eAAEC,WAAW,eAC5B,GAAMC,KAAI,CAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CACzC7B,SAAS,CAAC,UAAM,CACduB,IAAI,CAACO,IAAI,CAAGJ,WAAW,CAACH,IAAI,CAACO,IAAI,CAACH,IAAI,CAAC,CAAGD,WAAW,CAAC,EAAE,CAAC,CAC3D,CAAC,CAAE,CAACH,IAAI,CAAEE,QAAQ,CAAC,CAAC,CAEpB,mBAEE,aAAK,SAAS,CAAC,KAAK,wBAEhB,KAAC,MAAM,IAAG,cACV,MAAC,MAAM,yBACH,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,IAAI,IAAI,EAAE,cACpC,KAAC,KAAK,EAAC,IAAI,CAAC,aAAa,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAE,cAChD,KAAC,KAAK,EAAC,IAAI,CAAC,YAAY,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAE,cAC/C,KAAC,KAAK,EAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAE,cACtD,KAAC,KAAK,EAAC,IAAI,CAAC,aAAa,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAE,cAClD,KAAC,KAAK,EAAC,IAAI,CAAC,iBAAiB,CAAC,OAAO,cAAE,KAAC,WAAW,IAAI,EAAE,cACzD,KAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC,OAAO,cAAE,KAAC,GAAG,IAAI,EAAE,cACtC,KAAC,KAAK,EAAC,IAAI,CAAC,4BAA4B,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAE,cACjE,KAAC,KAAK,EAAC,IAAI,CAAC,mBAAmB,CAAC,OAAO,cAAE,KAAC,MAAM,IAAI,EAAE,cAEtD,KAAC,KAAK,EAAC,KAAK,MAAC,IAAI,CAAC,cAAc,CAAC,OAAO,cACpC,KAAC,cAAc,EAAC,IAAI,CAAC,MAAM,uBACzB,KAAC,MAAM,IAAG,EACM,EACpB,cAEF,KAAC,KAAK,EAAC,IAAI,CAAC,cAAc,CAAC,OAAO,cAChC,KAAC,cAAc,EAAC,IAAI,CAAC,OAAO,uBAC1B,KAAC,SAAS,IAAG,EACG,EAClB,cAEF,KAAC,KAAK,EAAC,IAAI,CAAC,GAAG,CAAC,OAAO,cAAE,KAAC,QAAQ,IAAI,EAAE,cACxC,KAAC,KAAK,EAAC,IAAI,CAAC,MAAM,CAAC,OAAO,cAAE,KAAC,YAAY,IAAG,EAAE,GAEzC,cACT,KAAC,WAAW,IAAG,cACjB,KAAC,MAAM,IAAG,GACN,CAEV,CAEA,cAAeJ,IAAG"},"metadata":{},"sourceType":"module"}